<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="theme-color" content="#4285f4">
    <title>–£–õ–ù. –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –≤–æ–¥–∏—Ç–µ–ª–µ–π</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="manifest" href="manifest.json">
    <link rel="icon" href="icons/icon-192.png" type="image/png">
    <link rel="apple-touch-icon" href="icons/icon-192.png">
</head>
<body>
    <div class="container" id="app-container">
        <!-- –®–∞–≥ 1: –í–≤–æ–¥ —Ç–µ–ª–µ—Ñ–æ–Ω–∞ -->
        <div class="step" id="step-phone" data-step="1">
            <div class="step-header">
                <div class="step-number">1</div>
                <h2>üì± –í–≤–æ–¥ –Ω–æ–º–µ—Ä–∞ —Ç–µ–ª–µ—Ñ–æ–Ω–∞</h2>
            </div>
            
            <div class="step-content">
                <div class="phone-input-container">
                    <div class="phone-prefix">+7</div>
                    <input 
                        type="tel" 
                        id="phone-input" 
                        placeholder="999 123 45 67"
                        inputmode="tel"
                        maxlength="10"
                    >
                </div>
                
                <div class="info-box">
                    <p><strong>–í–∞–∂–Ω–æ:</strong> –ù–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞ –Ω—É–∂–µ–Ω –¥–ª—è –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ –∏ —Å–≤—è–∑–∏ —Å –≤–∞–º–∏.</p>
                    <p>–û—Ç–ø—Ä–∞–≤–ª—è—è —Å–≤–æ–π –Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞ –≤—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–≥–ª–∞—à–∞–µ—Ç–µ—Å—å —Å –æ–±—Ä–∞–±–æ—Ç–∫–æ–π –∏ —Ö—Ä–∞–Ω–µ–Ω–∏–µ–º –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö.</p>
                </div>
                
                <div class="button-group">
                    <button class="btn btn-primary" onclick="handlePhoneSubmit()">
                        –ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å
                    </button>
                    <button class="btn btn-secondary" onclick="resetRegistration()">
                        –°–±—Ä–æ—Å–∏—Ç—å
                    </button>
                </div>
            </div>
        </div>

        <!-- –®–∞–≥ 2: –í–≤–æ–¥ –§–ò–û -->
        <div class="step" id="step-fio" data-step="2" style="display: none;">
            <div class="step-header">
                <div class="step-number">2</div>
                <h2>üë§ –í–≤–æ–¥ –§–ò–û</h2>
            </div>
            
            <div class="step-content">
                <input 
                    type="text" 
                    id="fio-input" 
                    placeholder="–ò–≤–∞–Ω–æ–≤ –ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤–∏—á"
                    class="form-input"
                >
                
                <div class="button-group">
                    <button class="btn btn-primary" onclick="handleFioSubmit()">
                        –ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å
                    </button>
                    <button class="btn btn-secondary" onclick="goBack()">
                        –ù–∞–∑–∞–¥
                    </button>
                </div>
            </div>
        </div>

        <!-- –®–∞–≥ 3: –í—ã–±–æ—Ä –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞ -->
        <div class="step" id="step-supplier" data-step="3" style="display: none;">
            <div class="step-header">
                <div class="step-number">3</div>
                <h2>üè¢ –í—ã–±–æ—Ä –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞</h2>
            </div>
            
            <div class="step-content">
                <div id="supplier-buttons" class="option-buttons">
                    <!-- –ö–Ω–æ–ø–∫–∏ –ø–æ—Å—Ç–∞–≤—â–∏–∫–æ–≤ –ø–æ—è–≤—è—Ç—Å—è –∑–¥–µ—Å—å -->
                </div>
                
                <div class="separator">–∏–ª–∏</div>
                
                <div class="manual-input">
                    <input 
                        type="text" 
                        id="supplier-input" 
                        placeholder="–í–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞"
                        class="form-input"
                    >
                    <button class="btn btn-secondary" onclick="handleManualSupplier()">
                        –í–≤–µ—Å—Ç–∏ –≤—Ä—É—á–Ω—É—é
                    </button>
                </div>
                
                <div class="button-group">
                    <button class="btn btn-secondary" onclick="goBack()">
                        –ù–∞–∑–∞–¥
                    </button>
                </div>
            </div>
        </div>

        <!-- –®–∞–≥ 4: –í—ã–±–æ—Ä —é—Ä–ª–∏—Ü–∞ -->
        <div class="step" id="step-legal" data-step="4" style="display: none;">
            <div class="step-header">
                <div class="step-number">4</div>
                <h2>üèõÔ∏è –í—ã–±–æ—Ä —é—Ä–ª–∏—Ü–∞</h2>
            </div>
            
            <div class="step-content">
                <div class="option-buttons">
                    <button class="option-btn" onclick="selectLegalEntity('–ì—É–ª–ª–∏–≤–µ—Ä')">
                        <span class="option-number">1</span>
                        <span class="option-text">–ì—É–ª–ª–∏–≤–µ—Ä</span>
                    </button>
                    <button class="option-btn" onclick="selectLegalEntity('–¢–ö –õ–µ—Ç–æ')">
                        <span class="option-number">2</span>
                        <span class="option-text">–¢–ö –õ–µ—Ç–æ</span>
                    </button>
                    <button class="option-btn" onclick="selectLegalEntity('–û–±—â–∞—è –º–∞—à–∏–Ω–∞')">
                        <span class="option-number">3</span>
                        <span class="option-text">–û–±—â–∞—è –º–∞—à–∏–Ω–∞</span>
                    </button>
                </div>
                
                <div class="button-group">
                    <button class="btn btn-secondary" onclick="goBack()">
                        –ù–∞–∑–∞–¥
                    </button>
                </div>
            </div>
        </div>

        <!-- –®–∞–≥ 5: –í—ã–±–æ—Ä —Ç–∏–ø–∞ —Ç–æ–≤–∞—Ä–∞ -->
        <div class="step" id="step-product" data-step="5" style="display: none;">
            <div class="step-header">
                <div class="step-number">5</div>
                <h2>üì¶ –í—ã–±–æ—Ä —Ç–∏–ø–∞ —Ç–æ–≤–∞—Ä–∞</h2>
            </div>
            
            <div class="step-content">
                <div class="option-buttons">
                    <button class="option-btn" onclick="selectProductType('–°—É—Ö–æ–π')">
                        <span class="option-number">1</span>
                        <span class="option-text">–°—É—Ö–æ–π</span>
                        <span class="option-icon">üì¶</span>
                    </button>
                    <button class="option-btn" onclick="selectProductType('–§–†–û–í')">
                        <span class="option-number">2</span>
                        <span class="option-text">–§–†–û–í (–æ–≤–æ—â–∏ —Ñ—Ä—É–∫—Ç—ã)</span>
                        <span class="option-icon">üçé</span>
                    </button>
                    <button class="option-btn" onclick="selectProductType('–§–†–ï–®')">
                        <span class="option-number">3</span>
                        <span class="option-text">–§–†–ï–® (–û—Ö–ª–∞–∂–¥–µ–Ω–Ω–∞—è –ø—Ä–æ–¥—É–∫—Ü–∏—è)</span>
                        <span class="option-icon">‚ùÑÔ∏è</span>
                    </button>
                    <button class="option-btn" onclick="selectProductType('–ê–∫—Ü–∏–∑')">
                        <span class="option-number">4</span>
                        <span class="option-text">–ê–∫—Ü–∏–∑ (–ö—Ä–µ–ø–∫–∏–π –∞–ª–∫–æ–≥–æ–ª—å)</span>
                        <span class="option-icon">üç∑</span>
                    </button>
                </div>
                
                <div class="button-group">
                    <button class="btn btn-secondary" onclick="goBack()">
                        –ù–∞–∑–∞–¥
                    </button>
                </div>
            </div>
        </div>

        <!-- –®–∞–≥ 6: –ú–∞—Ä–∫–∞ –∞–≤—Ç–æ -->
        <div class="step" id="step-vehicle-brand" data-step="6" style="display: none;">
            <div class="step-header">
                <div class="step-number">6</div>
                <h2>üöó –ú–∞—Ä–∫–∞ –∞–≤—Ç–æ</h2>
            </div>
            
            <div class="step-content">
                <div id="brand-buttons" class="option-buttons">
                    <!-- –ö–Ω–æ–ø–∫–∏ –º–∞—Ä–æ–∫ –∞–≤—Ç–æ –ø–æ—è–≤—è—Ç—Å—è –∑–¥–µ—Å—å -->
                </div>
                
                <div class="separator">–∏–ª–∏</div>
                
                <div class="manual-input">
                    <input 
                        type="text" 
                        id="brand-input" 
                        placeholder="–í–≤–µ–¥–∏—Ç–µ –º–∞—Ä–∫—É –∞–≤—Ç–æ"
                        class="form-input"
                    >
                    <button class="btn btn-secondary" onclick="handleManualBrand()">
                        –í–≤–µ—Å—Ç–∏ –≤—Ä—É—á–Ω—É—é
                    </button>
                </div>
                
                <div class="button-group">
                    <button class="btn btn-secondary" onclick="goBack()">
                        –ù–∞–∑–∞–¥
                    </button>
                </div>
            </div>
        </div>

        <!-- –®–∞–≥ 7: –ù–æ–º–µ—Ä –¢–° -->
        <div class="step" id="step-vehicle-number" data-step="7" style="display: none;">
            <div class="step-header">
                <div class="step-number">7</div>
                <h2>üî¢ –ù–æ–º–µ—Ä –¢–°</h2>
            </div>
            
            <div class="step-content">
                <input 
                    type="text" 
                    id="vehicle-number-input" 
                    placeholder="–ê123–í–°777"
                    class="form-input"
                >
                
                <div class="info-box">
                    <p>–í–≤–µ–¥–∏—Ç–µ –≥–æ—Å—É–¥–∞—Ä—Å—Ç–≤–µ–Ω–Ω—ã–π –Ω–æ–º–µ—Ä –∞–≤—Ç–æ–º–æ–±–∏–ª—è</p>
                </div>
                
                <div class="button-group">
                    <button class="btn btn-primary" onclick="handleVehicleNumberSubmit()">
                        –ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å
                    </button>
                    <button class="btn btn-secondary" onclick="goBack()">
                        –ù–∞–∑–∞–¥
                    </button>
                </div>
            </div>
        </div>

        <!-- –®–∞–≥ 8: –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–¥–¥–æ–Ω–æ–≤ -->
        <div class="step" id="step-pallets" data-step="8" style="display: none;">
            <div class="step-header">
                <div class="step-number">8</div>
                <h2>üì¶ –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–¥–¥–æ–Ω–æ–≤</h2>
            </div>
            
            <div class="step-content">
                <div class="number-input">
                    <input 
                        type="number" 
                        id="pallets-input" 
                        placeholder="0"
                        min="0"
                        step="1"
                        class="form-input"
                        inputmode="numeric"
                    >
                </div>
                
                <div class="button-group">
                    <button class="btn btn-primary" onclick="handlePalletsSubmit()">
                        –ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å
                    </button>
                    <button class="btn btn-secondary" onclick="goBack()">
                        –ù–∞–∑–∞–¥
                    </button>
                </div>
            </div>
        </div>

        <!-- –®–∞–≥ 9: –ù–æ–º–µ—Ä –∑–∞–∫–∞–∑–∞ -->
        <div class="step" id="step-order" data-step="9" style="display: none;">
            <div class="step-header">
                <div class="step-number">9</div>
                <h2>üìã –ù–æ–º–µ—Ä –∑–∞–∫–∞–∑–∞</h2>
            </div>
            
            <div class="step-content">
                <input 
                    type="text" 
                    id="order-input" 
                    placeholder="–ù–æ–º–µ—Ä –∑–∞–∫–∞–∑–∞"
                    class="form-input"
                >
                
                <div class="info-box">
                    <p>–ù–∞–π—Ç–∏ –º–æ–∂–Ω–æ –≤ —Å–æ–ø—Ä–æ–≤–æ–¥–∏—Ç–µ–ª—å–Ω—ã—Ö –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ö</p>
                    <p><em>–ï—Å–ª–∏ –Ω–µ –∑–Ω–∞–µ—Ç–µ, –≤–≤–µ–¥–∏—Ç–µ 0</em></p>
                </div>
                
                <div class="button-group">
                    <button class="btn btn-primary" onclick="handleOrderSubmit()">
                        –ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å
                    </button>
                    <button class="btn btn-secondary" onclick="goBack()">
                        –ù–∞–∑–∞–¥
                    </button>
                </div>
            </div>
        </div>

        <!-- –®–∞–≥ 10: –≠–¢—Ä–ù -->
        <div class="step" id="step-etrn" data-step="10" style="display: none;">
            <div class="step-header">
                <div class="step-number">10</div>
                <h2>üì± –≠–¢—Ä–ù</h2>
            </div>
            
            <div class="step-content">
                <input 
                    type="text" 
                    id="etrn-input" 
                    placeholder="–ù–æ–º–µ—Ä –≠–¢—Ä–ù"
                    class="form-input"
                >
                
                <div class="info-box">
                    <p>–ù–∞–π—Ç–∏ –º–æ–∂–Ω–æ –≤ –ª–∏—á–Ω–æ–º –∫–∞–±–∏–Ω–µ—Ç–µ –º–æ–±–∏–ª—å–Ω–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è</p>
                    <p><em>–ï—Å–ª–∏ –Ω–µ –∑–Ω–∞–µ—Ç–µ, –≤–≤–µ–¥–∏—Ç–µ 0</em></p>
                </div>
                
                <div class="button-group">
                    <button class="btn btn-primary" onclick="handleEtrnSubmit()">
                        –ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å
                    </button>
                    <button class="btn btn-secondary" onclick="goBack()">
                        –ù–∞–∑–∞–¥
                    </button>
                </div>
            </div>
        </div>

        <!-- –®–∞–≥ 11: –¢—Ä–∞–Ω–∑–∏—Ç -->
        <div class="step" id="step-transit" data-step="11" style="display: none;">
            <div class="step-header">
                <div class="step-number">11</div>
                <h2>üì¶ –¢—Ä–∞–Ω–∑–∏—Ç</h2>
            </div>
            
            <div class="step-content">
                <div class="option-buttons">
                    <button class="option-btn" onclick="selectTransit('–î–∞')">
                        <span class="option-number">1</span>
                        <span class="option-text">–î–∞</span>
                    </button>
                    <button class="option-btn" onclick="selectTransit('–ù–µ—Ç')">
                        <span class="option-number">2</span>
                        <span class="option-text">–ù–µ—Ç</span>
                    </button>
                </div>
                
                <div class="info-box">
                    <p>–ü—Ä–∏–≤–µ–∑–ª–∏ –ª–∏ –≤—ã —Ç—Ä–∞–Ω–∑–∏—Ç –≤ –º–∞—à–∏–Ω–µ?</p>
                </div>
                
                <div class="button-group">
                    <button class="btn btn-secondary" onclick="goBack()">
                        –ù–∞–∑–∞–¥
                    </button>
                </div>
            </div>
        </div>

        <!-- –®–∞–≥ 12: –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ -->
        <div class="step" id="step-confirm" data-step="12" style="display: none;">
            <div class="step-header">
                <div class="step-number">12</div>
                <h2>üìã –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö</h2>
            </div>
            
            <div class="step-content">
                <div class="data-review" id="data-review">
                    <!-- –î–∞–Ω–Ω—ã–µ –±—É–¥—É—Ç –≤—Å—Ç–∞–≤–ª–µ–Ω—ã –∑–¥–µ—Å—å -->
                </div>
                
                <div class="info-box warning">
                    <p><strong>‚ö†Ô∏è –í–∞–∂–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è:</strong></p>
                    <p>–ü–æ—Å–ª–µ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –æ–∂–∏–¥–∞–π—Ç–µ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è –≤–æ—Ä–æ—Ç. –í–∞–º –ø–æ—Å—Ç—É–ø–∏—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ.</p>
                </div>
                
                <div class="button-group">
                    <button class="btn btn-primary" onclick="submitRegistration()">
                        ‚úÖ –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è
                    </button>
                    <button class="btn btn-secondary" onclick="goBack()">
                        –ù–∞–∑–∞–¥
                    </button>
                </div>
            </div>
        </div>

        <!-- –£—Å–ø–µ—à–Ω–∞—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è -->
        <div class="step" id="step-success" data-step="13" style="display: none;">
            <div class="step-header">
                <div class="success-icon">‚úÖ</div>
                <h2>üéâ –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∑–∞–≤–µ—Ä—à–µ–Ω–∞!</h2>
            </div>
            
            <div class="step-content">
                <div class="success-message" id="success-message">
                    <!-- –°–æ–æ–±—â–µ–Ω–∏–µ –±—É–¥–µ—Ç –≤—Å—Ç–∞–≤–ª–µ–Ω–æ –∑–¥–µ—Å—å -->
                </div>
                
                <div class="info-box">
                    <h4>üìÖ –ì—Ä–∞—Ñ–∏–∫ –∑–∞–µ–∑–¥–∞:</h4>
                    <ul class="schedule-list">
                        <li><strong>–°—É—Ö–æ–π —Å–∫–ª–∞–¥:</strong> —Å 7:00 - –¥–æ 16:30</li>
                        <li><strong>–û—Ö–ª–∞–∂–¥–µ–Ω–Ω–∞—è –ø—Ä–æ–¥—É–∫—Ü–∏—è:</strong> —Å 7:00 - –¥–æ 14:00</li>
                        <li><strong>–§–†–û–í (—Ñ—Ä—É–∫—Ç—ã, –æ–≤–æ—â–∏):</strong> —Å 7:00 - –¥–æ 14:00</li>
                        <li><strong>–ê–ö–¶–ò–ó–ù–´–ô —Å–∫–ª–∞–¥:</strong> —Å 7:00 - –¥–æ 13:00</li>
                    </ul>
                </div>
                
                <div class="warning-box">
                    <p><strong>‚ö†Ô∏è –í–Ω–∏–º–∞–Ω–∏–µ!</strong> –ü—Ä–∏–±—ã—Ç–∏–µ –ø–æ—Å–ª–µ —É–∫–∞–∑–∞–Ω–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏ –º–æ–∂–µ—Ç –ø—Ä–∏–≤–µ—Å—Ç–∏ –∫ –æ—Ç–∫–∞–∑—É –≤ –ø—Ä–∏–µ–º–∫–µ!</p>
                </div>
                
                <div class="button-group">
                    <button class="btn btn-primary" onclick="resetRegistration()">
                        üìù –ù–æ–≤–∞—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è -->
    <div id="notification" class="notification"></div>

    <!-- –ó–∞–≥—Ä—É–∑–∫–∞ -->
    <div id="loader" class="loader-overlay" style="display: none;">
        <div class="loader"></div>
    </div>

    <script src="app.js"></script>
    <script>
        // –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è Service Worker –¥–ª—è PWA
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('/service-worker.js')
                    .then(registration => {
                        console.log('ServiceWorker registered');
                    })
                    .catch(err => {
                        console.log('ServiceWorker registration failed: ', err);
                    });
            });
        }
        
        // –ó–∞–ø—Ä–æ—Å —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è –Ω–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
        if ('Notification' in window && Notification.permission === 'default') {
            Notification.requestPermission();
        }
    </script>
</body>
</html>